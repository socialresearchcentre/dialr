---
title: "Introduction to dialr"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to dialr}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Welcome to dialr!

```{r}
library(dialr)
library(dplyr)
library(tidyr)
library(magrittr)

x <- tibble(id = 1:4,
            phone1 = c(0, 0123, "0404753123", "61410123817"),
            phone2 = c("0393881234", 1234, "+12015550123", 0),
            country = c("AU", "AU", "AU", "AU"))

x %>%
  gather(col, val, phone1, phone2) %>%
  mutate(val = phone(val, country)) %>%
  pull(val) %>%
  format(home = "US")

x %>%
  gather(col, val, phone1, phone2) %>%
  mutate(val = phone(val, country)) %>%
  pull(val) %>%
  get_region

x %>% mutate_at(vars(matches("^phone")), ~phone(., country)) %>% gather(col, val, phone1, phone2)

x %<>% mutate_at(vars(matches("^phone")), ~phone(., country))
```
